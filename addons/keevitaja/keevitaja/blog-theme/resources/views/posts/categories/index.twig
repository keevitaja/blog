{% extends 'theme::app' %}

{% set posts = category.posts().live().paginate() %}

{% block body %}
    <main>
        <header>
            <a href="{{ url('/') }}">{{ trans('theme::addon.breadcrumb.home') }}</a> <span class="spacer">Â»</span>
            {{ trans('theme::addon.blog.category_title', { 'name': category.title }) }}
        </header>

        {% for post in posts %}
            <article {% if loop.last %} class="last" {% endif %}>
                <aside class="post">
                    <time datetime="{{ post.publish_at.iso }}">
                        {{ post.publish_at.format(config_get('streams::datetime.date_format')) }}
                    </time>
                </aside>

                <h1 class="title"><a href="{{ post.route('view') }}">{{ post.title }}</a></h1>

                {{ post.summary|raw }}

                <p>{{ html_link(post.route('view'), trans('theme::addon.blog.more')) }}</p>
            </article>
        {% endfor %}

        {{ posts.links|raw }}

        <footer>
            {{ trans('theme::addon.footer')|raw }}
        </footer>
    </main>
{% endblock %}